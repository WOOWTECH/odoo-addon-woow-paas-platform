<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">
    <t t-name="woow_paas_platform.AiMentionDropdown">
        <div t-if="props.visible" class="o_woow_mention_dropdown">
            <div class="o_woow_mention_dropdown__header">
                <span class="o_woow_mention_dropdown__title">AI Assistants</span>
            </div>
            <ul class="o_woow_mention_dropdown__list" t-if="filteredAssistants.length">
                <li t-foreach="filteredAssistants" t-as="assistant" t-key="assistant.id"
                    t-att-class="'o_woow_mention_dropdown__item' + (assistant_index === state.selectedIndex ? ' o_woow_mention_dropdown__item--selected' : '')"
                    t-on-click="() => this.selectAssistant(assistant)"
                    t-on-mouseenter="() => this.state.selectedIndex = assistant_index">
                    <span class="o_woow_mention_dropdown__avatar"
                          t-att-style="'background-color: ' + (assistant.avatar_color || '#875A7B')">
                        <t t-esc="getInitial(assistant)"/>
                    </span>
                    <div class="o_woow_mention_dropdown__info">
                        <span class="o_woow_mention_dropdown__name">
                            <t t-esc="assistant.name"/>
                        </span>
                        <span class="o_woow_mention_dropdown__desc" t-if="assistant.config_name">
                            <t t-esc="assistant.config_name"/>
                        </span>
                    </div>
                </li>
            </ul>
            <div t-else="" class="o_woow_mention_dropdown__empty">
                No assistants found
            </div>
        </div>
    </t>
</templates>
