---
name: E2E verification for n8n config restriction
status: open
created: 2026-02-15T10:59:32Z
updated: 2026-02-15T14:02:20Z
github: https://github.com/WOOWTECH/odoo-addon-woow-paas-platform/issues/68
depends_on: [002]
parallel: false
conflicts_with: []
---

# Task: E2E verification for n8n config restriction

## Description
端對端驗證 n8n config restriction 功能，包括部署新 n8n 服務和編輯已部署 n8n 的設定。確保前後端行為符合 PRD 定義的 success criteria。

## Acceptance Criteria
- [ ] 部署新 n8n 時，AppConfigurationPage 顯示 2 required + 3 optional 欄位
- [ ] 必填欄位（Basic Auth User/Password）不可為空，否則無法部署
- [ ] 部署後 n8n 啟用 basic auth，需登入才能使用
- [ ] ConfigurationTab 以 HelmValueForm 顯示 5 個欄位
- [ ] Password 類型欄位顯示為 `********`
- [ ] 修改 timezone 後儲存並重啟，n8n 反映新時區
- [ ] 送出非法 key（如 `main.resources.limits.cpu`）被後端拒絕
- [ ] 已部署的 n8n 服務在 module 升級後正常運作

## Technical Details
- 使用開發環境（Docker 或本機 Odoo）進行測試
- 測試 module upgrade（`-u woow_paas_platform`）觸發 migration
- 測試前端表單渲染和提交
- 測試後端 API 白名單過濾

## Dependencies
- [ ] Task 002: 程式碼變更完成

## Effort Estimate
- Size: S
- Hours: 1-2
- Parallel: false（依賴 Task 002）

## Definition of Done
- [ ] 所有 acceptance criteria 驗證通過
- [ ] 已部署服務不受影響
- [ ] 測試結果記錄
