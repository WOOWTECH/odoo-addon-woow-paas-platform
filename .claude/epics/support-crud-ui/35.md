---
name: CreateProjectModal + SupportProjectsPage integration
status: closed
created: 2026-02-10T06:44:22Z
updated: 2026-02-11T02:05:26Z
github: https://github.com/WOOWTECH/odoo-addon-woow-paas-platform/issues/35
depends_on: [34]
parallel: true
conflicts_with: []
---

# Task: CreateProjectModal + SupportProjectsPage integration

## Description

建立 `CreateProjectModal` 元件並整合到 `SupportProjectsPage`。參照 `CreateWorkspaceModal` 的 props 模式（`onClose`, `onCreated`）。在 Header 右側加「+ New Project」按鈕，在 Empty State 加「Create your first project」按鈕。

## Acceptance Criteria

- [ ] `CreateProjectModal.js` + `CreateProjectModal.xml` 建立完成
- [ ] Modal 包含欄位：Project Name（必填 text）、Description（選填 textarea）、Workspace（必填 select）
- [ ] Workspace 下拉選單從 `workspaceService` 載入已有 workspace 列表
- [ ] 必填欄位未填時顯示 inline error，不送出請求
- [ ] 提交時顯示 loading 狀態，按鈕 disabled
- [ ] 提交成功後呼叫 `onCreated` callback，Modal 自動關閉
- [ ] 提交失敗顯示錯誤訊息
- [ ] 點 backdrop / X 按鈕可關閉 Modal
- [ ] `SupportProjectsPage` Header 右側有「+ New Project」`WoowButton`
- [ ] `SupportProjectsPage` Empty State 有「Create your first project」`WoowButton`
- [ ] 點擊任一按鈕皆彈出 `CreateProjectModal`
- [ ] 建立成功後專案列表自動刷新

## Technical Details

### CreateProjectModal 元件

```javascript
// 參照 CreateWorkspaceModal 模式
static props = {
    onClose: { type: Function },
    onCreated: { type: Function },
};

setup() {
    this.state = useState({
        name: "",
        description: "",
        workspaceId: null,
        loading: false,
        error: null,
    });
    this.workspaces = useState(workspaceService);
    onMounted(() => workspaceService.fetchWorkspaces());
}
```

### SupportProjectsPage 修改

1. 加入 `import { CreateProjectModal }` 和 `static components` 註冊
2. `state` 新增 `showCreateModal: false`
3. Header `o_woow_sp_header` 加右側按鈕區
4. Empty State 加 `WoowButton`
5. `onProjectCreated()` callback 呼叫 `_loadProjects()` 刷新列表

### Files affected

- `src/static/src/paas/components/modal/CreateProjectModal.js` (create)
- `src/static/src/paas/components/modal/CreateProjectModal.xml` (create)
- `src/static/src/paas/pages/support-projects/SupportProjectsPage.js` (edit)
- `src/static/src/paas/pages/support-projects/SupportProjectsPage.xml` (edit)

## Dependencies

- Task 001（`createProject()` 方法）

## Effort Estimate

- Size: S
- Hours: 1
- Parallel: true（與 Task 003 可並行，不衝突檔案）

## Definition of Done

- [ ] Modal 元件建立完成
- [ ] 頁面 Header + Empty State 按鈕整合完成
- [ ] Create → 列表刷新流程正常運作
