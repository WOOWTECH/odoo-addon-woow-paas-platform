---
name: Add createProject() to support_service.js
status: closed
created: 2026-02-10T06:44:22Z
updated: 2026-02-11T02:05:26Z
github: https://github.com/WOOWTECH/odoo-addon-woow-paas-platform/issues/34
depends_on: []
parallel: false
conflicts_with: [002]
---

# Task: Add createProject() to support_service.js

## Description

在 `support_service.js` 新增 `createProject(workspaceId, data)` 方法。目前 `createTask()` 已存在（`:213-232`），但缺少對應的 `createProject()` 方法。此方法將呼叫後端已有的 `POST /api/support/projects/<workspace_id>` with `action: 'create'`。

## Acceptance Criteria

- [ ] `supportService.createProject(workspaceId, { name, description })` 方法可用
- [ ] 成功時回傳 `{ success: true, data: ProjectData }`
- [ ] 成功時自動更新 `this.projects` 列表（將新項目插入開頭）
- [ ] 失敗時回傳 `{ success: false, error: string }`
- [ ] 使用 `operationLoading.createProject` 追蹤 loading 狀態

## Technical Details

參照既有 `createTask()` 方法模式：

```javascript
async createProject(workspaceId, data) {
    this.operationLoading.createProject = true;
    try {
        const result = await jsonRpc(`/api/support/projects/${workspaceId}`, {
            action: "create",
            ...data,
        });
        if (result.success) {
            this.projects = [result.data, ...this.projects];
            return { success: true, data: result.data };
        } else {
            return { success: false, error: result.error };
        }
    } catch (err) {
        return { success: false, error: err.message };
    } finally {
        this.operationLoading.createProject = false;
    }
},
```

### Files affected

- `src/static/src/paas/services/support_service.js` (edit)

## Dependencies

- 無（後端 API 已就緒）

## Effort Estimate

- Size: XS
- Hours: 0.5
- Parallel: false（Task 002 依賴此方法）

## Definition of Done

- [ ] Code implemented
- [ ] 方法簽名與 `createTask()` 一致
