---
name: Header breadcrumb dynamic path and clickable navigation
status: closed
created: 2026-02-23T23:49:34Z
updated: 2026-02-24T09:32:51Z
github: https://github.com/WOOWTECH/odoo-addon-woow-paas-platform/issues/87
depends_on: []
parallel: true
conflicts_with: [003]
---

# Task: Header breadcrumb dynamic path and clickable navigation

## Description

重構 Header 元件的 breadcrumb，從靜態的 "Home > {pageName}" 改為根據當前路由動態生成的多層路徑，且每個非 active 項目可點擊導航。

## Acceptance Criteria

- [ ] Header breadcrumb 根據 `router.current` 動態生成路徑陣列
- [ ] "Home" 項目可點擊，導航到 `#/dashboard`
- [ ] 中間層項目（如 "Workspaces"、"AI Assistant"）可點擊導航
- [ ] 最後一項（active）不可點擊，顯示為 active 樣式
- [ ] 每層之間有 `chevron_right` 圖示分隔
- [ ] 可點擊項目 hover 時有 `cursor: pointer` 和顏色變化

## Technical Details

### Files to modify
- `src/static/src/paas/layout/header/Header.js` — 新增 `breadcrumbItems` getter
- `src/static/src/paas/layout/header/Header.xml` — 使用 `t-foreach` 渲染 breadcrumb items

### Header.js breadcrumbItems getter 邏輯

```javascript
get breadcrumbItems() {
    const route = this.props.router.current;
    const params = this.props.router.params;
    const items = [{ label: "Home", path: "dashboard" }];

    // Workspace-related routes
    const wsRoutes = ["workspace-detail", "workspace-team", "marketplace", "configure", "service-detail"];
    if (wsRoutes.includes(route)) {
        items.push({ label: "Workspaces", path: "workspaces" });
    }

    // AI-related routes
    const aiRoutes = ["ai-assistant", "ai-projects", "ai-tasks", "ai-task-detail", "ai-chat", "ai-project-kanban"];
    if (aiRoutes.includes(route)) {
        items.push({ label: "AI Assistant", path: "ai-assistant" });
    }

    // Current page (active, not clickable)
    const currentRoute = this.props.router.routes.find(r => r.routeName === route);
    if (currentRoute && route !== "dashboard") {
        items.push({ label: currentRoute.name, path: null }); // null = active
    }

    return items;
}
```

### Header.xml template update

```xml
<div class="o_woow_breadcrumb">
    <t t-foreach="breadcrumbItems" t-as="item" t-key="item_index">
        <t t-if="item_index > 0">
            <span class="material-symbols-outlined">chevron_right</span>
        </t>
        <span t-if="item.path"
              class="o_woow_breadcrumb_item o_woow_breadcrumb_link"
              t-on-click="() => props.router.navigate(item.path)"
              t-esc="item.label"/>
        <span t-else=""
              class="o_woow_breadcrumb_item active"
              t-esc="item.label"/>
    </t>
</div>
```

## Dependencies

- [ ] None — can start immediately

## Effort Estimate

- Size: S
- Hours: 1
- Parallel: true
