---
name: Frontend Routing + Hub + Services
status: closed
created: 2026-02-09T16:35:07Z
updated: 2026-02-10T06:11:51Z
github: https://github.com/WOOWTECH/odoo-addon-woow-paas-platform/issues/28
depends_on: []
parallel: true
conflicts_with: []
---

# Task: Frontend Routing + Hub + Services

## Description

擴展前端 router、root component、Sidebar，新增 AI Assistant 相關路由和導航項。建立 AiAssistantPage Hub 頁面（統計卡片 + 導航卡片）。建立 `ai_service.js` 和 `support_service.js` reactive services。

## Acceptance Criteria

- [ ] `router.js` 新增 5 個路由：ai-assistant, ai-assistant/projects, ai-assistant/tasks, ai-assistant/tasks/:taskId, ai-assistant/chat/:conversationId
- [ ] `root.js` 新增頁面元件 imports + route matching
- [ ] `root.xml` 新增 route → page mapping
- [ ] `Sidebar.js` + `Sidebar.xml` 新增「AI Assistant」導航項目（icon: smart_toy）
- [ ] `AiAssistantPage.js` + `AiAssistantPage.xml` 建立 Hub 頁面
  - [ ] 統計概覽卡片（Total, Active, Completion）
  - [ ] Support Projects 導航卡片
  - [ ] My Support Tasks 導航卡片
  - [ ] AI Connection 狀態卡片
- [ ] `ai_service.js` 建立：reactive service，提供 agents list, chat history, post message, stream 等方法
- [ ] `support_service.js` 建立：reactive service，提供 projects/tasks CRUD 方法
- [ ] `_ai_assistant.scss` 建立：Hub 頁面樣式

## Technical Details

- 路由格式參考現有 `router.js` 的 pattern-based routing（如 workspace/:id）
- Hub 頁面參考 `DashboardPage` 的卡片 layout
- 統計資料從 `support_service.js` 取得
- Services 使用 `jsonRpc()` 呼叫後端 API，參考 `workspace_service.js` 的 reactive pattern
- Sidebar 新增位置：在 Deployments 之前或之後
- AI Connection 卡片顯示 active provider 的名稱和連線狀態

### Files affected

- `src/static/src/paas/core/router.js` (edit)
- `src/static/src/paas/root.js` (edit)
- `src/static/src/paas/root.xml` (edit)
- `src/static/src/paas/layout/Sidebar.js` (edit)
- `src/static/src/paas/layout/Sidebar.xml` (edit)
- `src/static/src/paas/pages/ai-assistant/AiAssistantPage.js` (create)
- `src/static/src/paas/pages/ai-assistant/AiAssistantPage.xml` (create)
- `src/static/src/paas/services/ai_service.js` (create)
- `src/static/src/paas/services/support_service.js` (create)
- `src/static/src/paas/styles/pages/_ai_assistant.scss` (create)

## Dependencies

- None (can run in parallel with backend tasks; API stubs can be used initially)

## Effort Estimate

- Size: M
- Hours: 4-6
- Parallel: true (independent from backend tasks)

## Definition of Done

- [ ] Code implemented
- [ ] 導航到 #/ai-assistant 顯示 Hub 頁面
- [ ] Sidebar 顯示 AI Assistant 項目
- [ ] 統計卡片正確顯示（或 loading state）
- [ ] Services 的 API 方法定義完整
- [ ] 路由切換正常運作
