---
name: Integration testing + deployment verification
status: open
created: 2026-02-22T06:48:56Z
updated: 2026-02-22T06:53:09Z
github: https://github.com/WOOWTECH/odoo-addon-woow-paas-platform/issues/85
depends_on: [002, 003]
parallel: false
conflicts_with: []
---

# Task: Integration testing + deployment verification

## Description

端到端驗證所有 user stories：從 Cloud Service 詳情頁建立 Support Project、AI 帶入 Service Context 回答、從 Service 詳情頁進入 Support Project。確保所有現有功能不受影響。

## Acceptance Criteria

- [ ] US-1: 從 Cloud Service 詳情頁建立 Support Project，自動關聯 cloud_service_id
- [ ] US-1: 一個 Cloud Service 只能有一個 Project（嘗試重複建立應被阻擋）
- [ ] US-1: 已有 Project 時，按鈕改為「查看 Support Project」
- [ ] US-2: AI 回答時 system prompt 包含 Cloud Service template 資訊
- [ ] US-2: AI 回答時 system prompt 包含當前 helm values 配置
- [ ] US-2: AI 回答時 system prompt 包含服務狀態
- [ ] US-3: 從 Cloud Service 詳情頁可導航到 Support Project
- [ ] 現有功能驗證：task 建立正常
- [ ] 現有功能驗證：AI chat 正常
- [ ] 現有功能驗證：kanban 正常
- [ ] 無 cloud_service 的 orphan project 仍可正常使用（cloud_service_id = null）

## Technical Details

### 測試場景

1. **建立 Project 流程**
   - 選擇一個已部署的 Cloud Service（如 AnythingLLM）
   - 點擊「建立 Support Project」
   - 填寫名稱，確認建立
   - 驗證 project 正確關聯到 cloud service

2. **AI Context 驗證**
   - 在新建的 Project 中建立 task
   - 透過 AI chat 提問技術問題
   - 檢查 AI 回答是否基於 service context（template + config + state）

3. **1:1 Constraint 驗證**
   - 嘗試對同一個 Cloud Service 再建立 Project
   - 應顯示錯誤或按鈕已變為「查看」

4. **導航驗證**
   - 從 Cloud Service 詳情頁點擊「查看 Support Project」
   - 確認正確導航到 Project 的 tasks 頁面

5. **回歸測試**
   - 現有沒有 cloud service 的 project 仍可正常運作
   - Task CRUD 不受影響
   - Kanban view 正常

## Dependencies

- [ ] Task 002 + 003 完成

## Effort Estimate

- Size: S
- Hours: 2
- Parallel: false (depends on 002, 003)

## Definition of Done

- [ ] 所有 user stories 驗證通過
- [ ] 無 console error 或 Python traceback
- [ ] 現有功能回歸測試通過
- [ ] Deploy 到本地 Odoo 完成驗證
