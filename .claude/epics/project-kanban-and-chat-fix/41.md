---
name: 前端 — 建立 ProjectKanbanPage 看板元件
status: closed
created: 2026-02-10T09:14:49Z
updated: 2026-02-11T02:05:26Z
github: https://github.com/WOOWTECH/odoo-addon-woow-paas-platform/issues/41
depends_on: [40]
parallel: false
conflicts_with: []
---

# Task：前端 — 建立 ProjectKanbanPage 看板元件

## 描述

建立看板頁面元件，以欄位方式顯示專案任務。每個欄位代表一個 Odoo 階段，任務卡片顯示在對應階段欄中。

## 驗收標準

- [ ] 建立 `ProjectKanbanPage.js`、`ProjectKanbanPage.xml`、`_project_kanban.scss` 三個新檔案
- [ ] 頁面載入時呼叫 `fetchProjectStages()` 與 `fetchAllTasks({ project_id })` 取得資料
- [ ] 任務依 `stage_id` 分組顯示在對應欄位中
- [ ] 每欄標題顯示階段名稱與任務數量
- [ ] 任務卡片顯示：標題、優先級星號、負責人名稱、截止日期徽章
- [ ] 截止日期顏色編碼（逾期=紅色、3天內=橘色）
- [ ] 空欄顯示佔位文字
- [ ] 點擊任務卡片導航至 `#/ai-assistant/tasks/{taskId}`
- [ ] 頁面頂部有返回按鈕，導航回 `#/ai-assistant/projects`
- [ ] 欄位可水平捲動（響應式）

## 技術細節

### 新建檔案

**`src/static/src/paas/pages/project-kanban/ProjectKanbanPage.js`**：
- 繼承 `Component`
- `setup()` 中使用 `router.params.id` 取得 `projectId`
- `onMounted` 載入階段列表與任務列表
- `get columns()` 計算屬性，將任務分組至各階段
- `navigateToTask(taskId)` 導航方法
- `navigateBack()` 返回專案列表

**`src/static/src/paas/pages/project-kanban/ProjectKanbanPage.xml`**：
- 看板容器使用 `display: flex` 水平排列欄位
- 每欄使用 `t-foreach` 迴圈渲染任務卡片
- 任務卡片包含 `t-on-click` 導航事件

**`src/static/src/paas/styles/pages/_project_kanban.scss`**：
- `.o_woow_kanban` 容器（flex、gap、overflow-x auto）
- `.o_woow_kanban__column` 欄位（min-width 280px、flex-shrink 0）
- `.o_woow_kanban__card` 卡片（圓角、陰影、hover 效果）
- 顏色變數使用現有 SCSS 主題

### 修改檔案

**`src/static/src/paas/services/support_service.js`**：
- 新增 `fetchProjectStages(projectId)` 方法
- 呼叫 `POST /api/support/projects/{projectId}/stages`
- 回傳存入 `supportService.stages`

## 依賴項

- [ ] 任務 40 完成（後端 API 需提供 `stage_id` 與階段列表端點）

## 工作量估計

- 大小：L
- 時數：6-8 小時
- 可平行：否（依賴任務 40）

## 完成定義

- [ ] 三個新檔案建立完成
- [ ] `support_service.js` 新增階段查詢方法
- [ ] 看板正確渲染所有階段欄位與任務卡片
- [ ] 點擊卡片可導航至任務詳情
- [ ] 響應式佈局在平板螢幕正常運作
