---
name: Service Detail UI
status: open
created: 2026-02-01T17:23:19Z
updated: 2026-02-01T17:39:37Z
github: https://github.com/WOOWTECH/odoo-addon-woow-paas-platform/issues/10
depends_on: [7]
parallel: true
conflicts_with: [8, 9, 11, 12]
---

# Task: Service Detail UI

## Description

建立服務詳情頁面，包含 Overview 和 Configuration tabs，顯示服務狀態、連線資訊、Helm release info。

## Acceptance Criteria

- [ ] ServiceDetailPage 頁面建立
- [ ] Tab 導航（Overview, Configuration）
- [ ] StatusBadge 元件建立
- [ ] Overview Tab 完成：
  - [ ] 連線資訊（URL, status, port）
  - [ ] 資源使用
  - [ ] Helm release info
  - [ ] Quick actions (Open Web UI)
- [ ] Configuration Tab 完成：
  - [ ] 顯示當前配置
  - [ ] 編輯配置（觸發 upgrade）
- [ ] Header 區域（icon, name, status, actions）

## Technical Details

### Router 更新

```javascript
'#/workspaces/:id/services/:serviceId': 'serviceDetail',
'#/workspaces/:id/services/:serviceId/:tab': 'serviceDetail',
```

### ServiceDetailPage (`src/static/src/paas/pages/service/`)

```
pages/service/
├── ServiceDetailPage.js
├── ServiceDetailPage.xml
├── ServiceDetailPage.scss
├── tabs/
│   ├── OverviewTab.js
│   ├── OverviewTab.xml
│   ├── ConfigurationTab.js
│   └── ConfigurationTab.xml
```

### StatusBadge (`src/static/src/paas/components/common/`)

```
components/common/
├── StatusBadge.js
├── StatusBadge.xml
└── StatusBadge.scss
```

**Status variants:**

- `running`: Green
- `deploying` / `upgrading`: Blue (with spinner)
- `pending`: Gray
- `error`: Red
- `deleting`: Orange

### Header Section

```xml
<div class="o_woow_service_header">
    <img t-att-src="service.template_id.icon" class="service-icon"/>
    <div class="service-info">
        <h1 t-esc="service.name"/>
        <StatusBadge status="service.state"/>
    </div>
    <div class="service-actions">
        <WoowButton label="'Open Web UI'" icon="'open_in_new'" onClick="openWebUI"/>
        <WoowButton label="'Rollback'" icon="'history'" onClick="showRollbackModal"/>
        <WoowButton label="'Delete'" icon="'delete'" variant="'danger'" onClick="showDeleteModal"/>
    </div>
</div>
```

### Overview Tab

```
Connection:
├── Status: ONLINE/OFFLINE
├── Public URL: https://xxx.woowtech.io
├── Custom Domain: (if set)
└── Internal Port: 3001

Resources:
├── Helm Release: paas-ws-123-myapp
├── Chart Version: postgresql 15.5.0
├── Revision: 3
└── Namespace: paas-ws-123
```

### Configuration Tab

- 顯示當前 Helm values
- 使用 HelmValueForm（與配置頁面共用）
- Save 按鈕觸發 upgrade
- 顯示 upgrade 進度

## Dependencies

- [ ] Task 003: API 可用
- [ ] Task 005: 部署後導航到此頁面

## Effort Estimate

- Size: M
- Hours: 8-12
- Parallel: true (can run with 004, 005, 007, 008)

## Definition of Done

- [ ] 頁面正確顯示服務資訊
- [ ] Tab 切換正常
- [ ] StatusBadge 顯示正確狀態
- [ ] Open Web UI 可正常開啟新視窗
- [ ] Configuration 編輯可觸發 upgrade
- [ ] 狀態自動輪詢更新
