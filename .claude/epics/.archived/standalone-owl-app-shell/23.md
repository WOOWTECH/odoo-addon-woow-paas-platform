---
name: Standalone App Infrastructure
status: closed
created: 2026-01-13T17:39:27Z
updated: 2026-01-13T18:14:36Z
github: https://github.com/WOOWTECH/odoo-addons/issues/23
depends_on: []
parallel: false
conflicts_with: []
---

# Task: Standalone App Infrastructure

## Description

建立 Standalone OWL Application 的基礎設施，包含 HTTP Controller、QWeb 模板、和 Asset Bundle 配置。完成後應可訪問 `/woow` 看到空白頁面（證明整個流程運作正常）。

## Acceptance Criteria

- [ ] 建立 `controllers/paas.py` 處理 `/woow` 路由
- [ ] 建立 `controllers/__init__.py` 匯出 controller
- [ ] 更新根目錄 `__init__.py` 匯入 controllers
- [ ] 建立 `views/paas_app.xml` QWeb 模板
- [ ] 更新 `__manifest__.py` 加入 Asset Bundle 配置
- [ ] 更新 `__manifest__.py` 加入 views/paas_app.xml 到 data
- [ ] 建立 `static/src/paas/app.js` 最小入口
- [ ] 訪問 `/woow` 顯示空白頁面無錯誤

## Technical Details

### 檔案清單

1. **controllers/paas.py**
```python
from odoo.http import request, route, Controller

class PaasController(Controller):
    @route("/woow", auth="public", website=False)
    def paas_app(self):
        return request.render(
            'woow_paas_platform.paas_app',
            {'session_info': request.env['ir.http'].get_frontend_session_info()}
        )
```

2. **views/paas_app.xml**
```xml
<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="paas_app" name="Woow PaaS Application">
        <!DOCTYPE html>
        <html>
            <head>
                <meta charset="utf-8"/>
                <meta name="viewport" content="width=device-width, initial-scale=1"/>
                <title>Woow PaaS Platform</title>
                <script type="text/javascript">
                    var odoo = {
                        csrf_token: "<t t-esc="request.csrf_token(None)"/>",
                        debug: "<t t-out="debug"/>",
                        __session_info__: <t t-esc="json.dumps(session_info)"/>,
                    };
                </script>
                <t t-call-assets="woow_paas_platform.assets_paas"/>
            </head>
            <body/>
        </html>
    </template>
</odoo>
```

3. **__manifest__.py 更新**
```python
'data': [
    # ... existing
    'views/paas_app.xml',
],
'assets': {
    'woow_paas_platform.assets_paas': [
        ('include', 'web._assets_helpers'),
        'web/static/src/scss/pre_variables.scss',
        'web/static/lib/bootstrap/scss/_variables.scss',
        ('include', 'web._assets_bootstrap'),
        ('include', 'web._assets_core'),
        'woow_paas_platform/static/src/paas/**/*',
    ],
},
```

4. **static/src/paas/app.js**
```javascript
/** @odoo-module **/
import { whenReady } from "@odoo/owl";

whenReady(() => {
    console.log("Woow PaaS App loaded");
    document.body.innerHTML = "<h1>Woow PaaS Platform</h1>";
});
```

### 驗證步驟
1. 更新模組：`./odoo-bin -c odoo.conf -u woow_paas_platform --stop-after-init`
2. 啟動 Odoo
3. 訪問 `http://localhost:8069/woow`
4. 應看到 "Woow PaaS Platform" 標題

## Dependencies

- [ ] Odoo 18 環境運行中
- [ ] `woow_paas_platform` 模組已安裝

## Effort Estimate

- Size: S
- Hours: 1-2
- Parallel: false (必須先完成才能繼續其他任務)

## Definition of Done

- [ ] Controller 建立並可路由
- [ ] QWeb 模板正確渲染
- [ ] Asset Bundle 正確載入
- [ ] 瀏覽器 Console 無錯誤
- [ ] 看到測試訊息 "Woow PaaS Platform"
